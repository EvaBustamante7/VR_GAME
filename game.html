<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VR-Game</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
  <!-- <script src="https://cdn.jsdelivr.net/npm/aframe-extras@7.0.0/dist/aframe-extras.min.js"></script> -->
  <script src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>
  <script src="./js/aframe-physics-system.min.js"></script>
  <script src="./js/joystick-movement.js"></script>
  <script src="./js/game.js"></script>
  <script src="./js/music.js"></script>

</head>

<body>
  <a-scene physics="gravity: -2">

    <!-- Música -->
    <!-- <a-assets>
      <audio id="mi-musica" src="assets/musica.mp3" preload="true" muted></audio>
    </a-assets>
    <a-entity sound="src: #mi-musica; autoplay: true; loop:true; volume: 5"></a-entity> -->

    <!-- Cámara y Controles -->
    <a-entity id="player">
      <a-entity id="camera" camera look-controls wasd-controls position="0 7 15" joystick-movement>
        <a-text value="count: 0" position="-1 1 -4"></a-text>

        <a-cursor intersection-spawn="Event: click; mixin: voxel"></a-cursor>
      </a-entity>
      <a-entity oculus-touch-controls="hand: left" trigger-check></a-entity>
      <a-entity id="rtcontroller" oculus-touch-controls="hand: right" trigger-check
        raycaster="showLine: true"></a-entity>
    </a-entity>
    <!-- Sonido -->

    <a-entity id="ground" geometry="primitive: box; width: 100; depth: 100; height: 0.1" static-body="shape: box"
      position="0 1 0" opacity="0"></a-entity>



    <div class="button">
      <button type="button" class="btn" onclick="toggleMusica()">
        <span id="playButton">Start</span>
        <span id="pauseButton" style="display:none">Stop</span>
      </button>
    </div>
    <!-- Sky, Suelo, Objetos de relleno -->

    <a-entity environment="preset: forest; ground: flat; groundTexture: walkernoise; groundColor:#553e35; groundColor2:#694439; 
      skyType: gradient; skyColor: lightblue; dressing: trees; dressingAmount:100;"></a-entity>

    <a-entity position="5 1 -3" scale="3 3 3"
      gltf-model="https://cdn.glitch.global/37023834-35df-4743-a92b-2913cca3bdc9/little_pond__fish.glb?v=1690203856474">
    </a-entity>

    <!-- Patos -->

    <a-entity class="target" dynamic-body="shape: box" position="-3 1.606 -3" scale="5 5 5"
      gltf-model="https://cdn.glitch.global/37023834-35df-4743-a92b-2913cca3bdc9/free_rubber_duck_3d_model.glb?v=1690194354620"
      animation="  property: position; from: -3 1.606 -3; to:-3 4 -3; dur: 10000; easing: linear; loop: true "
      >
    </a-entity>

    <a-entity class="target" dynamic-body="shape: box" position="-2.141 1.606 1.640" scale="5 5 5"
      gltf-model="https://cdn.glitch.global/37023834-35df-4743-a92b-2913cca3bdc9/free_rubber_duck_3d_model.glb?v=1690194354620">
    </a-entity>

    <a-entity class="target" dynamic-body="shape: box" position="0.422 1.606 -3.0" scale="5 5 5"
      gltf-model="https://cdn.glitch.global/37023834-35df-4743-a92b-2913cca3bdc9/free_rubber_duck_3d_model.glb?v=1690194354620">
    </a-entity>

    <a-entity class="target" dynamic-body="shape: box" position="-0.111 1.606 0.524" scale="5 5 5"
      gltf-model="https://cdn.glitch.global/37023834-35df-4743-a92b-2913cca3bdc9/free_rubber_duck_3d_model.glb?v=1690194354620">
    </a-entity>
  </a-scene>
  <script src="./js/shoot.js"></script>

</body>

</html>